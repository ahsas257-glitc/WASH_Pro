/* design/css/animations.css */

/* ==================================================
   Core micro-animations
   ================================================== */

@keyframes fadeInUp {
  from { opacity: 0; transform: translate3d(0, 14px, 0); }
  to   { opacity: 1; transform: translate3d(0, 0, 0); }
}

@keyframes floaty {
  0%   { transform: translate3d(0,0,0); }
  50%  { transform: translate3d(0,-6px,0); }
  100% { transform: translate3d(0,0,0); }
}

/* shimmer sweep */
@keyframes shimmer {
  0%   { transform: translateX(-120%) rotate(12deg); opacity: 0; }
  25%  { opacity: .85; }
  100% { transform: translateX(120%) rotate(12deg); opacity: 0; }
}

.fade-in { animation: fadeInUp .65s cubic-bezier(.2,.9,.2,1) both; }
.hover-float:hover { animation: floaty 1.8s ease-in-out infinite; }

/* ==================================================
   Shimmer (SAFE: never hides text)
   - puts shimmer BEHIND content
   - works with your glass-card z-index structure
   ================================================== */

.shimmer{
  position: relative; /* required */
}

/* ✅ shimmer layer */
.shimmer::after{
  content:"";
  position:absolute;
  top:-40%;
  left:-40%;
  width:60%;
  height:180%;

  background: linear-gradient(90deg,
    transparent,
    rgba(255,255,255,0.20),
    transparent
  );

  filter: blur(1px);
  transform: translateX(-120%) rotate(12deg);
  opacity:0;
  pointer-events:none;

  /* ✅ critical: keep it behind text */
  z-index: 0;
}

/* ✅ ensure card content stays above shimmer */
.shimmer > *{
  position: relative;
  z-index: 2;
}

/* Dark mode: slightly stronger shimmer (but still subtle) */
html[data-theme="dark"] .shimmer::after{
  background: linear-gradient(90deg,
    transparent,
    rgba(255,255,255,0.26),
    transparent
  );
}

.shimmer:hover::after{
  animation: shimmer 1.25s ease-in-out both;
}

/* ==================================================
   Liquid background motion overlay (Luxury)
   - sits between watermark/noise and content
   - does NOT touch app transforms
   ================================================== */

/* Motion */
@keyframes liquidFloatA{
  0%   { transform: translate3d(0,0,0) scale(1); }
  50%  { transform: translate3d(14px,-16px,0) scale(1.03); }
  100% { transform: translate3d(0,0,0) scale(1); }
}
@keyframes liquidFloatB{
  0%   { transform: translate3d(0,0,0) scale(1); }
  50%  { transform: translate3d(-16px,12px,0) scale(1.04); }
  100% { transform: translate3d(0,0,0) scale(1); }
}

/* ✅ IMPORTANT:
   We attach liquid overlay to the single marked container.
   z-index = 3 (watermark 0, veil 1, noise 2, liquid 3, content 10) */
[data-testid="stAppViewContainer"][data-ppc-wm="1"]{
  position: relative;
}

/* The liquid gloss veil */
[data-testid="stAppViewContainer"][data-ppc-wm="1"] .t6-liquid-overlay{
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 3;

  opacity: var(--liq-opacity, .58);
  filter: blur(var(--liq-blur, 62px));
  mix-blend-mode: soft-light;

  /* glossy liquid highlights */
  background:
    radial-gradient(520px 520px at 18% 18%, rgba(255,255,255,.22), transparent 60%),
    radial-gradient(640px 640px at 84% 22%, rgba(255,255,255,.18), transparent 62%),
    radial-gradient(720px 720px at 56% 86%, rgba(255,255,255,.14), transparent 65%),
    radial-gradient(520px 520px at 22% 78%, rgba(255,255,255,.16), transparent 62%);

  animation: liquidFloatA 16s ease-in-out infinite;
}

/* Dark mode: richer blend, less wash */
html[data-theme="dark"] [data-testid="stAppViewContainer"][data-ppc-wm="1"] .t6-liquid-overlay{
  mix-blend-mode: overlay;
  opacity: .34;
  filter: blur(calc(var(--liq-blur, 62px) - 8px));
  animation: liquidFloatB 18s ease-in-out infinite;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce){
  .fade-in{ animation: none !important; }
  .hover-float:hover{ animation: none !important; }
  .shimmer:hover::after{ animation: none !important; }
  [data-testid="stAppViewContainer"][data-ppc-wm="1"] .t6-liquid-overlay{
    animation: none !important;
  }
}
